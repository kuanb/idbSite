<!DOCTYPE html>

<html lang="en">

<head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Map Page</title>

    <!-- Bootstrap core CSS -->
    <link href="../lib/bootstrap.min.css" rel="stylesheet">

    <!-- Leaflet -->
    <link rel="stylesheet" href="../lib/leaflet.css" />
    <link rel="stylesheet" href="../lib/customization.css" />
    <script src="../lib/leaflet.js"></script>


</head>

<body>

<!-- HEADER -->

    <!-- Fixed navbar -->
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation" style="z-index:1000;">
        <div class="container">

            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="../index.html">NHDC</a>
            </div>
            
            <div id="navbar" class="collapse navbar-collapse">
              
                <ul class="nav navbar-nav">
                
                    <li><a href="index.html">Home</a></li>
                    <li><a href="index.html#interactive">Environment</a></li>
                    <li><a href="growth.html"><b>Urbanization</b></a></li>
                    <li><a href="index.html#interactive">Social</a></li>
                    <li><a href="index.html#interactive">Mobility</a></li>
                    <li><a href="index.html#interactive">Geospatial</a></li>
                    <li><a href="index.html#about">About</a></li>

                </ul>

            </div><!--/.nav-collapse -->
        </div>
    </nav>


    <!-- buffers the top -->
    <div style="margin-top:50px"></div>

    <!-- SIDEBAR DIV -->
    <div class="col-md-2 leftNav">
    <div class="col-xs-9">
        <a href="growth.html#maps">
            <div class="sideBarTitle">Map Graphics</div>
        </a>
        
        <div id="bx_slider01" class="top_slider">

                <div class="sideBarTitle subTitle">Growth Levels</div><br>
                <a data-slide-index="0">
                    <div class="btn btn-default btn-md sideBar">Year: 1985</div></a><br>
                <a data-slide-index="1">
                    <div class="btn btn-default btn-md sideBar">Year: 2010</div></a><br>
                <a data-slide-index="2">
                    <div class="btn btn-default btn-md sideBar">Year: 2013</div></a><br>
                
                <div class="sideBarTitle subTitle">Land Development</div><br>
                <a data-slide-index="3">
                    <div class="btn btn-default btn-md sideBar">Year: 1986</div></a><br>
                <a data-slide-index="4">
                    <div class="btn btn-default btn-md sideBar">Year: 2010</div></a><br>
        </div>
        
        <div class="sideBarTitle">Other Items</div>
        <div id="">
                <a data-slide-index="0">
                    <div class="btn btn-default btn-md sideBar">Item One</div></a><br>
                <a data-slide-index="1">
                    <div class="btn btn-default btn-md sideBar">Item Two</div></a><br>
                <a data-slide-index="2">
                    <div class="btn btn-default btn-md sideBar">Item Three</div></a><br>
                <a data-slide-index="3">
                    <div class="btn btn-default btn-md sideBar">Item Four</div></a><br>
                <a data-slide-index="4">
                    <div class="btn btn-default btn-md sideBar">Item Five</div></a><br>
        </div>
    </div>
    </div>

    <!-- context div -->
    <div class="beneathMap" id="includedContent" style="">
        
        <!-- context div -->
        <a id='maps'></a>
        <div class="bxslider">
            <ul class="bxslider" id='slider01'>
                <li class='slider_img'><img src="growth/growth_1985.png" title="1985 Growth Levels"/></li>
                <li class='slider_img'><img src="growth/growth_2010.png" title="2010 Growth Levels"/></li>
                <li class='slider_img'><img src="growth/growth_2013.png" title="2013 Growth Levels"/></li>
                <li class='slider_img'><img src="growth/landuse_1986.png" title="1986 Land Development"/></li>
                <li class='slider_img'><img src="growth/landuse_2010.png" title="2010 Land Development"/></li>
            </ul>
        </div>

        <!-- INTERNAL CAN BE SWAPPED -->
        
        <div class="container">
            <div class="col-sm-3"></div>
            <div class="col-sm-9 card">
                <div class="">
                    <h3>Neque porro quisquam est qui</h3>
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                    <h3>Sed ut perspiciatis unde omnis</h3>
                        <p>At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga. Et harum quidem rerum facilis est et expedita distinctio.</p>
                </div>
            </div>
        </div>
        
        <div class="container">
            <div class="col-sm-3"></div>
            <div class="col-sm-9 card">
                <div class="">
                    <h3>Neque porro quisquam est qui</h3>
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                    <h3>Sed ut perspiciatis unde omnis</h3>
                        <p>At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga. Et harum quidem rerum facilis est et expedita distinctio.</p>
                </div>
            </div>
        </div>


        <!-- END OF SWAPPED SECTION -->
    
    </div>



<!-- FOOTER -->
<div id="footer">
</div>


</body>

<!-- Bootstrap core JavaScript -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="../lib/jquery.min.js"></script>
<script src="../lib/bootstrap.min.js"></script>
<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<script src="../lib/ie10-viewport-bug-workaround.js"></script>

<!-- bxSlider Javascript file -->
<script src="../lib/jquery.bxslider.js"></script>
<!-- bxSlider CSS file -->
<link href="../lib/jquery.bxslider.css" rel="stylesheet" />

<script>


    $('#slider01').bxSlider({
        mode: 'fade',
        captions: true,
        pagerCustom: '#bx_slider01',
        minSlides: 1,
        maxSlides: 2,
    });

    $('#slider02').bxSlider({
        mode: 'fade',
        autoControls: true,
        pause: 3000
    });

    // $('#slider03').bxSlider({
    //     mode: 'fade',
    //     autoControls: true,
    //     pause: 3000
    // });

    // loads page elements like leaflet map and generates first view
    initPage = function() {
        $("#header").load("header.html"); 
        $("#footer").load("footer.html"); 

        // set map height
        document.getElementById('map').setAttribute('padding', window.innerHeight)
        document.getElementById('map').setAttribute('width', window.innerWidth)

        var map = L.map('map').setView([18.75, -72.000590], 3);

        // add an OpenStreetMap tile layer
        var sk_accessToken = 'pk.eyJ1Ijoic3RlcGhlbmtlbm5lZHkiLCJhIjoidjE2aTktdyJ9.gpYsw_JQAEuHlK5rAq0rsw';
        var access_token = 'stephenkennedy.ad4e43ac'

        L.tileLayer('http://api.tiles.mapbox.com/v4/mapbox.outdoors/{z}/{x}/{y}.png?access_token=' + sk_accessToken, {
        }).addTo(map);

        // remove leaflet (+/-) controls, attribution
        $(".leaflet-control-zoom").css("visibility", "hidden");
        $('.leaflet-control-attribution').remove()

        introSequence(map);
    };

    // handles production of new map scenes
    introSequence = function(map) {

        // standard retrieval of different layer data
        standardRetrieve = function(filename, next) {
            $.ajax({
                url: 'src/geojson/' + filename,
                dataType: 'json',
                success: function(data) {
                    var returnedShape = data; 

                    // init intro to northern area
                    shownJSON.clearLayers();
                    shownJSON.addData(returnedShape);
                    map.fitBounds(shownJSON);

                    // clear out details blob
                    $('#infoDiv').empty();

                    // map next button
                    if (next !== undefined) {
                        var nextButton = document.createElement('button');
                                    nextButton.innerHTML = 'View Next Map Item';
                                    nextButton.setAttribute('style', "float:right;margin-top:1.25em;");
                                    nextButton.setAttribute('class', 'btn btn-success');
                                    nextButton.setAttribute('onclick', next + '()');
                        document.getElementById('infoDiv').appendChild(nextButton);   
                    };

                    // map title
                    var title = document.createElement('h1');
                        title.innerHTML = data.title;
                    document.getElementById('infoDiv').appendChild(title);

                    // map subtitle
                    var subtext = document.createElement('p');
                        subtext.innerHTML = data.description;
                    document.getElementById('infoDiv').appendChild(subtext);
                },
                error: function(xhr, status, err) {
                    console.log(status, err.toString());
                }
            });
        }

        // setting the standard visual style for all the geojsons
        var flatStyle = {
            "color": "#ff0000",
            "weight": 1,
            "opacity": 0.5
        };

        // we will be manipulating this to walk through intro to Haiti
        var shownJSON = L.geoJson(null, {
            style: flatStyle
        }).addTo(map);

        // run the draw of the first geojson
        setTimeout(function(){ standardRetrieve('country_overview.geojson','northRegions') }, 2000);

        // LOAD SHAPEFILES SERIES
        northRegions = function() { standardRetrieve('northRegions.geojson', 'studyAreas'); };
        studyAreas = function() { standardRetrieve('study_area_caracol.geojson'); };

    }

    window.onload = initPage;

    // THIS HANDLES JUMPING TO #A HREFs
    // The function actually applying the offset
    function offsetAnchor() {
        if(location.hash.length !== 0) {
            window.scrollTo(window.scrollX, window.scrollY - 100);
        }
    }

    // This will capture hash changes while on the page
    $(window).on("hashchange", function () {
        offsetAnchor();
    });

    // This is here so that when you enter the page with a hash,
    // it can provide the offset in that case too. Having a timeout
    // seems necessary to allow the browser to jump to the anchor first.
    window.setTimeout(function() {
        offsetAnchor();
    }, 1);

</script>


</html>
